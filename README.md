# 项目简介

upload版本，旧版，用于AI 任务修改试验，有些功能存在问题，已迁移至新仓库

- **消息队列与规则引擎**：使用 MQTT Broker、EMQX 服务和 ekuiper 进行消息传递及实时规则处理。
- **数据库存储**：采用两种数据库引擎分别服务于不同的数据需求：
  - **SQLite**：用于存储系统的元数据（如产品属性、操作、模板、单位、事件、物模型模板等）。
  - **LevelDB**：用于存储实时数据，采用键值对方式实现高效读写。

---

## 数据库说明
### 1. SQLite 数据库（元数据存储）

- **用途**  
  存储系统中涉及元数据的数据，包括但不限于：
  - `properties`：设备或产品属性信息
  - `actions`：设备动作或操作记录
  - `category_template`：类别模板（不同场景或产品分组）
  - `unit`：计量单位
  - `events`：设备或系统事件数据
  - `thing_model_template`：物模型模板信息
  - `quick_navigation`：快捷导航配置（如服务监控、规则引擎、添加产品、添加设备）

- **数据库初始化**
  ```bash
  chmod +x init_db.sh
  ./init_db.sh
  ```

### 2. LevelDB 数据库（实时数据存储）
- **初始测试**
- `SQLtest.go`用于写入简单的测试数据
- **存储机制**  
  与 SQLite 不同，LevelDB 不以单一数据库文件的形式存在。运行写操作时，LevelDB 在指定目录下会自动生成一系列文件，例如：
  - `CURRENT`
  - `MANIFEST-xxxx`
  - 多个 `.ldb` 或 `.sst` 文件
  - 日志文件（如 `LOG`）  
  初始状态下目录可能为空，但一旦写入数据，系统会在该目录生成相关文件。
