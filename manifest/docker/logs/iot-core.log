[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/tools/sqldb/sqlite/gorm.go:64 sqlite open started dataSource: hummingbird/db-data/core-data/core.db?_timeout=5000
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/bootstrap/database/database.go:113 DatabaseInfo connected
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/timerapp/timerapp.go:157 edge timer started...
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/tools/mqttclient/mqttclient.go:97 gateway online, mqttclient connected!,126273c3-defa-45a6-afbc-b504c197315b
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/messageapp/ekuipermessage.go:37 ekuiper mqtt connect
[31m[error] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/messageapp/messageapp.go:66 init ekuiper stream failed error:Post "http://ekuiper:9081": dial tcp 172.18.0.3:9081: connect: connection refused
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/pkg/handlers/rpcserver.go:160 RPC server starting ( 0.0.0.0:57081 )
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/initialize/init.go:97 init rpc server
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/schedule.go:26 init schedule
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/pkg/handlers/httpserver.go:92 Web server starting (0.0.0.0:58081)
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/route/webproxy.go:44 start WebBootstrap BootstrapHandler in...
[32m[info] [0m2025/02/22 19:18:05 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/route/webproxy.go:73 WebProxy server starting (0.0.0.0:3000)
[32m[info] [0m2025/02/22 19:18:15 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/initialize/initdata.go:49 init ekuiper stream start
[32m[info] [0m2025/02/22 19:18:15 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/initialize/initdata.go:50 ekuiper stream start resp code,201
[32m[info] [0m2025/02/22 19:18:15 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/initialize/initdata.go:59 init ekuiper stream success
[32m[info] [0m2025/02/22 19:18:28 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/controller/http/websocket/server.go:251 websocket req {"code":10002,"data":{"id":"53525821","run_status":1}}
[32m[info] [0m2025/02/22 19:18:28 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:403 Container Networks map[docker_hummingbird:0xc0009fc0c0]
[32m[info] [0m2025/02/22 19:18:28 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:211 dockerCustomParams: {user: cpuShares:0 memory:0 memorySwap:0 dns:[] dnsSearch:[] restart: env:[] runtime: mnt:[] port:[]},
[32m[info] [0m2025/02/22 19:18:28 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:212 binds: [/home/knight/Desktop/College-Class/毕设选题/毕业设计zzm/test/iot_docker/manifest/docker/driver-data/run-config/tcp-official-driver.toml:/etc/driver/res/configuration.toml /home/knight/Desktop/College-Class/毕设选题/毕业设计zzm/test/iot_docker/manifest/docker/driver-data/mnt/tcp-official-driver:/mnt]
[32m[info] [0m2025/02/22 19:18:28 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:213 Image:{Id:sha256:145e20bfdf8de69f64f8defd612801e369f63e55ab0ae4b85bfd315bc0512416 RepoTags:[registry.cn-shanghai.aliyuncs.com/winc-driver/tcp-driver:1.0]}
[32m[info] [0m2025/02/22 19:18:28 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:214 thisRunMode:docker_hummingbird
[32m[info] [0m2025/02/22 19:18:29 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:251 status: running
[32m[info] [0m2025/02/22 19:18:29 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:403 Container Networks map[docker_hummingbird:0xc0004e8e40]
[32m[info] [0m2025/02/22 19:18:31 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/controller/http/websocket/server.go:200 websocket to resp data: {"code":10002,"data":{"success":true,"errorCode":0,"successMsg":"驱动实例  运行/停止成功","result":{"id":"53525821","run_status":1}}}
[32m[info] [0m2025/02/22 19:18:33 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/controller/http/websocket/server.go:251 websocket req {"code":10002,"data":{"id":"13021865","run_status":1}}
[32m[info] [0m2025/02/22 19:18:33 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:403 Container Networks map[docker_hummingbird:0xc0009fc240]
[32m[info] [0m2025/02/22 19:18:33 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:211 dockerCustomParams: {user: cpuShares:0 memory:0 memorySwap:0 dns:[] dnsSearch:[] restart: env:[] runtime: mnt:[] port:[]},
[32m[info] [0m2025/02/22 19:18:33 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:212 binds: [/home/knight/Desktop/College-Class/毕设选题/毕业设计zzm/test/iot_docker/manifest/docker/driver-data/run-config/mqtt-official-driver.toml:/etc/driver/res/configuration.toml /home/knight/Desktop/College-Class/毕设选题/毕业设计zzm/test/iot_docker/manifest/docker/driver-data/mnt/mqtt-official-driver:/mnt]
[32m[info] [0m2025/02/22 19:18:33 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:213 Image:{Id:sha256:866e1bfc6a056e6d47f405a65d2497fbee4f0f8e7ea0f24f00145744107c808d RepoTags:[registry.cn-shanghai.aliyuncs.com/winc-driver/mqtt-driver:1.0]}
[32m[info] [0m2025/02/22 19:18:33 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:214 thisRunMode:docker_hummingbird
[32m[info] [0m2025/02/22 19:18:34 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:251 status: running
[32m[info] [0m2025/02/22 19:18:34 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:403 Container Networks map[docker_hummingbird:0xc00065a0c0]
[32m[info] [0m2025/02/22 19:18:36 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/controller/http/websocket/server.go:200 websocket to resp data: {"code":10002,"data":{"success":true,"errorCode":0,"successMsg":"驱动实例  运行/停止成功","result":{"id":"13021865","run_status":1}}}
[32m[info] [0m2025/02/22 19:18:40 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/controller/http/websocket/server.go:251 websocket req {"code":10002,"data":{"id":"41659352","run_status":1}}
[32m[info] [0m2025/02/22 19:18:40 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:403 Container Networks map[docker_hummingbird:0xc0009fd500]
[32m[info] [0m2025/02/22 19:18:40 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:211 dockerCustomParams: {user: cpuShares:0 memory:0 memorySwap:0 dns:[] dnsSearch:[] restart: env:[] runtime: mnt:[] port:[]},
[32m[info] [0m2025/02/22 19:18:40 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:212 binds: [/home/knight/Desktop/College-Class/毕设选题/毕业设计zzm/test/iot_docker/manifest/docker/driver-data/run-config/http-official-driver.toml:/etc/driver/res/configuration.toml /home/knight/Desktop/College-Class/毕设选题/毕业设计zzm/test/iot_docker/manifest/docker/driver-data/mnt/http-official-driver:/mnt]
[32m[info] [0m2025/02/22 19:18:40 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:213 Image:{Id:sha256:9770b6d1369c49ae66ebd74ae1df586456260310b5a8e0a86a90b9354853fdd4 RepoTags:[registry.cn-shanghai.aliyuncs.com/winc-driver/http-driver:1.0]}
[32m[info] [0m2025/02/22 19:18:40 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:214 thisRunMode:docker_hummingbird
[32m[info] [0m2025/02/22 19:18:41 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:251 status: running
[32m[info] [0m2025/02/22 19:18:41 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:403 Container Networks map[docker_hummingbird:0xc0004e8fc0]
[32m[info] [0m2025/02/22 19:18:43 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/controller/http/websocket/server.go:200 websocket to resp data: {"code":10002,"data":{"success":true,"errorCode":0,"successMsg":"驱动实例  运行/停止成功","result":{"id":"41659352","run_status":1}}}
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/route/webproxy.go:68 WebProxy server shutting down
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/driverserviceapp/servicemonitor.go:58 close to DeviceServiceMonitor dsId: 13021865
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:105 close to flushImageMap
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/driverserviceapp/servicemonitor.go:58 close to DeviceServiceMonitor dsId: 41659352
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/driverserviceapp/servicemonitor.go:58 close to DeviceServiceMonitor dsId: 53525821
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/manager.go:119 close to flushContainerMap
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/pkg/handlers/rpcserver.go:152 RPC server shutting down
[31m[error] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/route/webproxy.go:91 WebProxy server failed: http: Server closed
[31m[error] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/pkg/handlers/httpserver.go:104 Web server failed: http: Server closed
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/pkg/handlers/rpcserver.go:154 RPC server shut down
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/pkg/handlers/rpcserver.go:175 RPC server stopped
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/app.go:56 stop docker instance[tcp-official-driver]
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/route/webproxy.go:70 WebProxy server shut down
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/pkg/handlers/httpserver.go:89 Web server shut down
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/app.go:56 stop docker instance[mqtt-official-driver]
[32m[info] [0m2025/02/22 19:19:17 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/application/dmi/docker/app.go:56 stop docker instance[http-official-driver]
[32m[info] [0m2025/02/22 19:19:18 [iot-core] github.com/winc-link/hummingbird/internal/hummingbird/core/bootstrap/database/database.go:123 DatabaseInfo disconnected
